{"version":3,"sources":["components/Header.js","components/BodyComponent.js","components/Paging.js","components/Body.js","App.js","index.js"],"names":["Header","id","BodyComponent","props","error","className","renderAllFacts","Paging","useParams","console","log","renderPageNumbers","state","apiPaging","slice","map","links","index","to","label","active","url","onClick","handleClick","currentPage","data","moveClick","randomize","lastPage","Body","isLoading","allFacts","localStorage","getItem","factsPerPage","newPageUrl","bind","item","sessionStorage","window","history","pushState","this","length","setState","fetchApi","JSON","parse","fetch","then","response","ok","Error","json","allFactsApi","last_page","setItem","stringify","Number","catch","err","message","event","scrollTo","top","behavior","target","parameter","movePage","removeItem","fact","React","Component","App","basename","process","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df06e2f8.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nfunction Header() {\r\n    return (\r\n        <div id=\"header\">\r\n            <h1>Cat Facts</h1>\r\n            <h2>Lucis - React Tutorial</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header; ","import React from \"react\"\r\n\r\nfunction BodyComponent (props) {\r\n    return(\r\n        <div>\r\n            <div id=\"facts-container\"> {/*output error or loading announcement*/}\r\n                {props.error && <div className=\"fact-div\" ><h3 className=\"loading\">\r\n                {props.error}</h3></div>}\r\n                {props.renderAllFacts}\r\n            </div>\r\n        </div>    \r\n    )\r\n}\r\n\r\nexport default BodyComponent","import React from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport { useParams } from 'react-router-dom'\r\n\r\n\r\nfunction Paging(props) {\r\n    const { id } = useParams()\r\n    {console.log(\"id \" + id)}\r\n\r\n    const apiPaging = props.state.apiPaging\r\n    const apiPagingSliced = apiPaging.slice(1, -1) //slice out previous and next page\r\n    \r\n    const renderPageNumbers = apiPagingSliced.map((links, index) => {\r\n        return <Link key={index} to={`/page/${links.label}`}>\r\n            <button key={index} id={links.label} \r\n            className={(links.active ? \"mark-page\" : \"\") + \" \" + (links.url === null ? \"remove-btn\" : \"\")}\r\n            onClick={props.handleClick}\r\n            >{links.label}\r\n            </button></Link>\r\n        }\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <div  id=\"paging\"> \r\n                <div id = \"page-nums\"> \r\n                    {renderPageNumbers}\r\n                </div>\r\n            </div>\r\n            <div id=\"move-btns\">\r\n                <Link to={`/page/${props.currentPage - 1}`}>\r\n                <button id=\"back-btn\" \r\n                className={props.currentPage === 1 ? \"hide\" : \" \"} \r\n                onClick = {() => props.data.moveClick(-1)}><p>Back</p>\r\n                </button>\r\n                </Link>\r\n                <button id=\"randomize\" \r\n                onClick={props.data.randomize}><p>Randomize Facts</p>\r\n                </button>\r\n                <Link to={`/page/${props.currentPage + 1}`}>\r\n                <button id=\"next-btn\"\r\n                className={props.lastPage === props.currentPage ? \"hide\" : \" \" }\r\n                onClick = {()=> props.data.moveClick(1)}><p>Next</p>\r\n                </button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paging; ","import React from \"react\"\r\nimport BodyComponent from \"./BodyComponent\"\r\nimport Paging from \"./Paging\"\r\n\r\nclass Body extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            isLoading: true,\r\n            allFacts: [],\r\n            currentPage: localStorage.getItem(\"currentPage\") || 1,\r\n            factsPerPage: 15,\r\n            error: null,\r\n            apiPaging: [],\r\n            newPageUrl: null\r\n        }\r\n        this.handleClick = this.handleClick.bind(this)\r\n        this.moveClick = this.moveClick.bind(this)\r\n        this.randomize = this.randomize.bind(this)\r\n    }\r\n   \r\n    //Call to API, get facts, put them into local storage or keep previous facts if available.\r\n    componentDidMount() {\r\n        \r\n        const currentPage = localStorage.getItem(\"currentPage\") || 1\r\n        const item = sessionStorage.getItem(\"pageHasBeenLoaded\");\r\n        window.history.pushState(null, \"\", \"/#/react-tutorial/page/\" + (this.state.currentPage));\r\n\r\n        if(localStorage.length === 0) { //if user manually deletes the local storage. go to /page/1, and fetch api again\r\n            //window.history.pushState(null, \"\", \"/react-tutorial/page/\" + (currentPage)); \r\n            \r\n            this.setState({ \r\n            allFacts:  [],\r\n            currentPage:  1,\r\n            apiPaging:  []\r\n            })\r\n\r\n            this.fetchApi(currentPage) \r\n           \r\n        } else if (item) { // if page is reloaded, keep same facts and page number\r\n        \r\n            console.log(\"reloaded\")\r\n            this.setState({ \r\n                isLoading: false,\r\n                allFacts: JSON.parse(localStorage.getItem(\"allFacts\")),\r\n                currentPage: localStorage.getItem(\"currentPage\"),\r\n                apiPaging: JSON.parse(localStorage.getItem(\"apiPaging\"))\r\n            })\r\n            \r\n        } else {\r\n        \r\n        this.setState({ \r\n            isLoading: false,\r\n            allFacts: JSON.parse(localStorage.getItem(\"allFacts\")) || [],\r\n            currentPage: localStorage.getItem(\"currentPage\") || 1,\r\n            apiPaging: JSON.parse(localStorage.getItem(\"apiPaging\")) || []\r\n        })\r\n\r\n        this.fetchApi(currentPage)\r\n    }\r\n    }\r\n    //funct to fetch API\r\n    fetchApi(currentPage) { \r\n        const apiLink = \"https://catfact.ninja/facts?limit=15&page=\"\r\n        const apiQuery = currentPage\r\n        \r\n        fetch (apiLink + apiQuery)\r\n            .then(response => {\r\n                if(!response.ok){ //throwing errors if response is not ok\r\n                    throw Error(\"Oh no! There was an error fetching the facts.\")\r\n                }\r\n                return response.json()\r\n            })\r\n            \r\n            .then(response => {\r\n\r\n                const allFactsApi = response.data\r\n                const lastPage = response.last_page\r\n                const apiPaging = response.links\r\n                let currentPage = localStorage.getItem(\"currentPage\")\r\n                localStorage.setItem(\"allFacts\", JSON.stringify(allFactsApi))\r\n                localStorage.setItem(\"apiPaging\", JSON.stringify(apiPaging))\r\n                localStorage.setItem(\"currentPage\", Number(currentPage))\r\n\r\n                this.setState({\r\n                    isLoading: false,\r\n                    allFacts: allFactsApi,\r\n                    currentPage: JSON.parse(localStorage.getItem(\"currentPage\")) || 1,\r\n                    error: null,\r\n                    lastPage: lastPage,\r\n                    apiPaging: apiPaging\r\n                }) \r\n                })\r\n                    \r\n            .catch(err => { //catching errors\r\n            this.setState ({\r\n                error: err.message,\r\n                isLoading: false,\r\n            })\r\n        })\r\n    }\r\n    \r\n    //button function - for numbered pages\r\n    handleClick(event) {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: \"smooth\"\r\n        })\r\n        \r\n        if(event.target.id >= 1) {\r\n            let currentPage = Number(event.target.id)\r\n            localStorage.setItem(\"currentPage\", currentPage)\r\n            this.setState ({\r\n                currentPage: JSON.parse(localStorage.getItem(\"currentPage\"))\r\n        })\r\n        \r\n        this.fetchApi(currentPage);\r\n        \r\n        }\r\n    }\r\n    \r\n    //button function - for back/next pages\r\n    moveClick(parameter) {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: \"smooth\"\r\n        })\r\n        \r\n\r\n        let movePage = (JSON.parse(localStorage.getItem(\"currentPage\")) + parameter)\r\n        let currentPage = movePage\r\n        localStorage.setItem(\"currentPage\", movePage)\r\n        this.setState ({\r\n            currentPage: localStorage.getItem(\"currentPage\")\r\n        })\r\n        this.fetchApi(currentPage)\r\n    } \r\n\r\n    //button function - cleans up local storage and reloads the page\r\n    randomize() { \r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: \"smooth\"\r\n        })\r\n        \r\n        localStorage.removeItem(\"allFacts\")\r\n        this.fetchApi()  \r\n    }\r\n\r\n    render() {\r\n        const {allFacts, currentPage, factsPerPage } = this.state\r\n        \r\n        //shows loading text when fetching then displays facts\r\n        const renderAllFacts = this.state.isLoading ? \r\n        <div className=\"fact-div\"><h3 className=\"loading\">Please wait.<br/> The cats are disclosing their secrets.</h3></div> :\r\n        allFacts.map((fact, index) => { \r\n            return <div className=\"fact-div\" key={index}>\r\n            <p className=\"fact-num\">Fact # {(index+1) + (currentPage-1) * factsPerPage}:</p>\r\n            <p className=\"fact-txt\">{fact.fact}</p>\r\n            </div>\r\n        })\r\n        \r\n\r\n        return(\r\n            <div>\r\n                <div>\r\n                    <BodyComponent\r\n                    error = {this.state.error}\r\n                    renderAllFacts = {renderAllFacts}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <Paging \r\n                    data = {this}\r\n                    currentPage = {this.state.currentPage}\r\n                    state = {this.state}\r\n                    lastPage = {this.state.lastPage}\r\n                    handleClick = {this.handleClick}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Body","import React from \"react\"\r\nimport Header from \"./components/Header\"\r\nimport Body from \"./components/Body\"\r\nimport {HashRouter as Router, Route, Switch} from \"react-router-dom\"\r\n\r\nfunction App () {\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Header />\r\n      </div>\r\n      <div id=\"main-container\">\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <Switch>\r\n          <Route path=\"/page/:id\" component={Body} />\r\n          <Route exact path=\"/\" component={Body} />\r\n        </Switch>\r\n      </Router>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './style.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}